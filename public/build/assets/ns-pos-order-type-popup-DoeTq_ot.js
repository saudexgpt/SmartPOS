import{d as T,j as S,k as z,p as j,v as F,w as Q}from"./print-DOU-TAfv.js";import{_ as h,n as R}from"./currency-gBUix5n2.js";import{b as v,a as P}from"./bootstrap-DN_KIGH5.js";import{a as I,k as B,j as E,l as M,n as H}from"./ns-prompt-popup-CDVMGRH6.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as m,o as i,c as l,g as _,f as c,b as e,t as n,h as N,F as g,e as k,w as f,j as w,i as K,C as D,n as L}from"./runtime-core.esm-bundler-DDZT2pc5.js";import{n as G}from"./ns-orders-preview-popup-BNomZ-nn.js";const Y={name:"ns-pos-quantity-popup",props:["popup"],components:{nsNumpad:I,nsNumpadPlus:B},data(){return{finalValue:1,virtualStock:null,options:{},optionsSubscription:null,allSelected:!0,isLoading:!1}},beforeDestroy(){this.optionsSubscription.unsubscribe()},mounted(){this.optionsSubscription=POS.options.subscribe(o=>{this.options=o}),this.popup.params.product.quantity&&(this.finalValue=this.popup.params.product.quantity),this.popupCloser()},unmounted(){nsHotPress.destroy("pos-quantity-numpad"),nsHotPress.destroy("pos-quantity-backspace"),nsHotPress.destroy("pos-quantity-enter")},methods:{__:h,popupCloser:T,closePopup(){this.popup.params.reject(!1),this.popup.close()},updateQuantity(o){this.finalValue=o},defineQuantity(o){const{product:t,data:a}=this.popup.params;if(o===0)return v.error(h("Please provide a quantity")).subscribe();if(t.$original().stock_management==="enabled"&&t.$original().type==="materialized"){const b=POS.getStockUsage(t.$original().id,a.unit_quantity_id)-(t.quantity||0);if(o>parseFloat(a.$quantities().quantity)-b)return v.error(h("Unable to add the product, there is not enough stock. Remaining %s").replace("%s",a.$quantities().quantity-b)).subscribe()}this.resolve({quantity:o})},resolve(o){this.popup.params.resolve(o),this.popup.close()}}},J={class:"ns-box shadow min-h-2/5-screen w-3/4-screen md:w-3/5-screen lg:w-2/5-screen xl:w-2/5-screen relative"},X={key:0,id:"loading-overlay",style:{background:"rgb(202 202 202 / 49%)"},class:"flex w-full h-full absolute top-O left-0 items-center justify-center"},Z={class:"flex-shrink-0 flex justify-between items-center p-2 border-b ns-box-header"},$={class:"text-xl font-bold text-primary text-center"},ee={id:"screen",class:"h-24 primary ns-box-body flex items-center justify-center"},se={class:"font-bold text-3xl"};function te(o,t,a,b,r,s){const x=m("ns-spinner"),u=m("ns-close-button"),y=m("ns-numpad"),C=m("ns-numpad-plus");return i(),l("div",J,[r.isLoading?(i(),l("div",X,[_(x)])):c("",!0),e("div",Z,[e("div",null,[e("h1",$,n(s.__("Define Quantity")),1)]),e("div",null,[_(u,{onClick:t[0]||(t[0]=p=>s.closePopup())})])]),e("div",ee,[e("h1",se,n(r.finalValue),1)]),r.options.ns_pos_numpad==="default"?(i(),N(y,{key:1,floating:r.options.ns_pos_allow_decimal_quantities,onChanged:t[1]||(t[1]=p=>s.updateQuantity(p)),onNext:t[2]||(t[2]=p=>s.defineQuantity(p)),value:r.finalValue},null,8,["floating","value"])):c("",!0),r.options.ns_pos_numpad==="advanced"?(i(),N(C,{key:2,onChanged:t[3]||(t[3]=p=>s.updateQuantity(p)),onNext:t[4]||(t[4]=p=>s.defineQuantity(p)),value:r.finalValue},null,8,["value"])):c("",!0)])}const oe=O(Y,[["render",te]]);class gn{constructor(t){this.product=t}run(t){return new Promise((a,b)=>{const r=this.product;if(POS.options.getValue().ns_pos_show_quantity!==!1||!POS.processingAddQueue)S.show(oe,{resolve:a,reject:b,product:r,data:t});else{if(r.$original().stock_management==="enabled"&&r.$original().type==="materialized"){const u=POS.getStockUsage(r.$original().id,t.unit_quantity_id)-(r.quantity||0);if(1>parseFloat(t.$quantities().quantity)-u)return v.error(h("Unable to add the product, there is not enough stock. Remaining %s").replace("%s",(t.$quantities().quantity-u).toString())).subscribe()}a({quantity:1})}})}}const ne={mounted(){this.closeWithOverlayClicked(),this.loadTransactionFields()},props:["popup"],data(){return{fields:[],isSubmiting:!1,formValidation:new z}},methods:{__:h,closeWithOverlayClicked:T,proceed(){const o=this.popup.params.customer,t=this.formValidation.extractFields(this.fields);this.isSubmiting=!0,P.post(`/api/customers/${o.id}/account-history`,t).subscribe({next:a=>{this.isSubmiting=!1,v.success(a.message).subscribe(),this.popup.params.resolve(a),this.popup.close()},error:a=>{this.isSubmiting=!1,v.error(a.message).subscribe(),this.popup.params.reject(a)}})},close(){this.popup.close(),this.popup.params.reject(!1)},loadTransactionFields(){P.get("/api/fields/ns.customers-account").subscribe({next:o=>{this.fields=this.formValidation.createFields(o)}})}}},re={class:"w-6/7-screen md:w-5/7-screen lg:w-4/7-screen h-6/7-screen md:h-5/7-screen lg:h-5/7-screen overflow-hidden shadow-lg ns-box flex flex-col relative"},ie={class:"p-2 border-b ns-box-header flex justify-between items-center"},le={class:"font-semibold"},ce={class:"flex-auto overflow-y-auto"},ue={key:0,class:"h-full w-full flex items-center justify-center"},ae={key:1,class:"p-2"},de={class:"p-2 ns-box-footer justify-between border-t flex"},pe={class:"px-1"},_e={class:"-mx-2 flex flex-wrap"},he={class:"px-1"},fe={class:"px-1"},me={key:0,class:"h-full w-full absolute flex items-center justify-center",style:{background:"rgb(0 98 171 / 45%)"}};function be(o,t,a,b,r,s){const x=m("ns-close-button"),u=m("ns-spinner"),y=m("ns-field"),C=m("ns-button");return i(),l("div",re,[e("div",ie,[e("h2",le,n(s.__("New Transaction")),1),e("div",null,[_(x,{onClick:t[0]||(t[0]=p=>s.close())})])]),e("div",ce,[r.fields.length===0?(i(),l("div",ue,[_(u)])):c("",!0),r.fields.length>0?(i(),l("div",ae,[(i(!0),l(g,null,k(r.fields,(p,V)=>(i(),N(y,{field:p,key:V},null,8,["field"]))),128))])):c("",!0)]),e("div",de,[t[3]||(t[3]=e("div",null,null,-1)),e("div",pe,[e("div",_e,[e("div",he,[_(C,{type:"error",onClick:t[1]||(t[1]=p=>s.close())},{default:f(()=>[w(n(s.__("Close")),1)]),_:1})]),e("div",fe,[_(C,{type:"info",onClick:t[2]||(t[2]=p=>s.proceed())},{default:f(()=>[w(n(s.__("Proceed")),1)]),_:1})])])])]),r.isSubmiting===0?(i(),l("div",me,[_(u)])):c("",!0)])}const ye=O(ne,[["render",be]]),xe={name:"ns-pos-coupons-load-popup",props:["popup"],components:{nsNotice:E},data(){return{placeHolder:h("Coupon Code"),couponCode:null,order:null,activeTab:"apply-coupon",orderSubscriber:null,coupon:null}},mounted(){this.popupCloser(),this.orderSubscriber=POS.order.subscribe(o=>{this.order=K(o),this.order.coupons.length>0&&(this.activeTab="active-coupons")}),this.popup.params&&this.popup.params.apply_coupon&&(this.couponCode=this.popup.params.apply_coupon,this.getCoupon(this.couponCode).subscribe({next:o=>{this.coupon=o,this.apply()}}))},unmounted(){this.orderSubscriber.unsubscribe()},methods:{__:h,popupCloser:T,popupResolver:j,selectCustomer(){Popup.show(U)},cancel(){this.coupon=null,this.couponCode=null},removeCoupon(o){this.order.coupons.splice(o,1),POS.refreshCart()},apply(){try{if(this.coupon.valid_hours_start!==null&&!ns.date.moment.isAfter(this.coupon.valid_hours_start)&&this.coupon.valid_hours_start.length>0)return v.error(h("The coupon is out from validity date range.")).subscribe();if(this.coupon.valid_hours_end!==null&&!ns.date.moment.isBefore(this.coupon.valid_hours_end)&&this.coupon.valid_hours_end.length>0)return v.error(h("The coupon is out from validity date range.")).subscribe();const o=this.coupon.products;if(o.length>0){const b=o.map(r=>r.product_id);if(this.order.products.filter(r=>b.includes(r.product_id)).length===0)return v.error(h("This coupon requires products that aren't available on the cart at the moment.")).subscribe()}const t=this.coupon.categories;if(t.length>0){const b=t.map(r=>r.category_id);if(this.order.products.filter(r=>b.includes(r.$original().category_id)).length===0)return v.error(h("This coupon requires products that belongs to specific categories that aren't included at the moment.").replace("%s")).subscribe()}let a={customer_coupon_id:this.coupon.customer_coupon.length>0?this.coupon.customer_coupon[0].id:0,minimum_cart_value:this.coupon.minimum_cart_value,maximum_cart_value:this.coupon.maximum_cart_value,name:this.coupon.name,type:this.coupon.type,value:0,coupon_id:this.coupon.id,limit_usage:this.coupon.limit_usage,code:this.coupon.code,discount_value:this.coupon.discount_value,categories:this.coupon.categories,products:this.coupon.products};this.cancel(),POS.pushCoupon(a),this.activeTab="active-coupons",setTimeout(()=>{this.popupResolver(a)},500),v.success(h("The coupon has applied to the cart.")).subscribe()}catch(o){console.log(o)}},getCouponType(o){switch(o){case"percentage_discount":return h("Percentage");case"flat_discount":return h("Flat");default:return h("Unknown Type")}},getDiscountValue(o){switch(o.type){case"percentage_discount":return o.discount_value+"%";case"flat_discount":return this.$options.filters.currency(o.discount_value)}},closePopup(){this.popupResolver(!1)},setActiveTab(o){this.activeTab=o,o==="apply-coupon"&&setTimeout(()=>{document.querySelector(".coupon-field").select()},10)},getCoupon(o){return!this.order.customer_id>0?v.error(h("You must select a customer before applying a coupon.")):P.post(`/api/customers/coupons/${o}`,{customer_id:this.order.customer_id})},loadCoupon(){const o=this.couponCode;this.getCoupon(o).subscribe({next:t=>{this.coupon=t,v.success(h("The coupon has been loaded.")).subscribe()},error:t=>{v.error(t.message||h("An unexpected error occurred.")).subscribe()}})}}},ve={class:"shadow-lg ns-box w-95vw md:w-3/6-screen lg:w-2/6-screen"},ge={class:"border-b ns-box-header p-2 flex justify-between items-center"},we={class:"font-bold"},Ce={class:"p-1 ns-box-body"},ke={class:"border-2 input-group info rounded flex"},Se=["placeholder"],Pe={class:"pt-2"},Te={key:0,class:"pt-2 flex"},Oe={key:1,class:"pt-2"},Ve={class:"overflow-hidden"},je={key:0,class:"pt-2 fade-in-entrance anim-duration-500 overflow-y-auto ns-scrollbar h-64"},Le={class:"w-full ns-table"},Ne={class:"p-2 w-1/2 border"},Ae={class:"p-2 w-1/2 border"},qe={class:"p-2 w-1/2 border"},Re={class:"p-2 w-1/2 border"},He={class:"p-2 w-1/2 border"},Fe={class:"p-2 w-1/2 border"},Qe={class:"p-2 w-1/2 border"},De={class:"p-2 w-1/2 border"},Ue={class:"p-2 w-1/2 border"},We={class:"p-2 w-1/2 border"},ze={class:"p-2 w-1/2 border"},Ie={class:"p-2 w-1/2 border"},Be={key:0},Ee={class:"p-2 w-1/2 border"},Me={class:"p-2 w-1/2 border"},Ke={key:0},Ge={key:0},Ye={class:"flex-auto"},Je={class:"font-semibold text-primary p-2 flex justify-between"},Xe={key:0,class:"flex justify-between elevation-surface border items-center p-2"},Ze={key:0,class:"flex"};function $e(o,t,a,b,r,s){const x=m("ns-close-button"),u=m("ns-notice"),y=m("ns-tabs-item"),C=m("ns-tabs");return i(),l("div",ve,[e("div",ge,[e("h3",we,n(s.__("Load Coupon")),1),e("div",null,[_(x,{onClick:t[0]||(t[0]=p=>s.closePopup())})])]),e("div",Ce,[_(C,{onActive:t[5]||(t[5]=p=>s.setActiveTab(p)),active:r.activeTab},{default:f(()=>[_(y,{label:s.__("Apply A Coupon"),padding:"p-2",identifier:"apply-coupon"},{default:f(()=>[e("div",ke,[D(e("input",{ref:"coupon",onKeyup:t[1]||(t[1]=Q(p=>s.loadCoupon(),["enter"])),"onUpdate:modelValue":t[2]||(t[2]=p=>r.couponCode=p),type:"text",class:"coupon-field w-full text-primary p-2 outline-none",placeholder:r.placeHolder},null,40,Se),[[F,r.couponCode]]),e("button",{onClick:t[3]||(t[3]=p=>s.loadCoupon()),class:"px-3 py-2"},n(s.__("Load")),1)]),e("div",Pe,[_(u,{color:"info"},{description:f(()=>[w(n(s.__("Input the coupon code that should apply to the POS. If a coupon is issued for a customer, that customer must be selected priorly.")),1)]),_:1})]),r.order&&r.order.customer_id===void 0?(i(),l("div",Te,[e("button",{onClick:t[4]||(t[4]=p=>s.selectCustomer()),class:"w-full border p-2 outline-none ns-numpad-key info cursor-pointer text-center"},n(s.__("Click here to choose a customer.")),1)])):c("",!0),r.order&&r.order.customer_id!==void 0?(i(),l("div",Oe,[_(u,{color:"success"},{description:f(()=>[w(n(s.__("Loading Coupon For : ")+`${r.order.customer.first_name} ${r.order.customer.last_name}`),1)]),_:1})])):c("",!0),e("div",Ve,[r.coupon?(i(),l("div",je,[e("table",Le,[e("tbody",null,[e("tr",null,[e("td",Ne,n(s.__("Coupon Name")),1),e("td",Ae,n(r.coupon.name),1)]),e("tr",null,[e("td",qe,n(s.__("Discount"))+" ("+n(s.getCouponType(r.coupon.type))+")",1),e("td",Re,n(s.getDiscountValue(r.coupon)),1)]),e("tr",null,[e("td",He,n(s.__("Usage")),1),e("td",Fe,n((r.coupon.customer_coupon.length>0?r.coupon.customer_coupon[0].usage:0)+"/"+(r.coupon.limit_usage||s.__("Unlimited"))),1)]),e("tr",null,[e("td",Qe,n(s.__("Valid From")),1),e("td",De,n(r.coupon.valid_hours_start||s.__("N/A")),1)]),e("tr",null,[e("td",Ue,n(s.__("Valid Till")),1),e("td",We,n(r.coupon.valid_hours_end||s.__("N/A")),1)]),e("tr",null,[e("td",ze,n(s.__("Categories")),1),e("td",Ie,[e("ul",null,[(i(!0),l(g,null,k(r.coupon.categories,p=>(i(),l("li",{class:"rounded-full px-3 py-1 border",key:p.id},n(p.category.name),1))),128)),r.coupon.categories.length===0?(i(),l("li",Be,n(s.__("Not applicable")),1)):c("",!0)])])]),e("tr",null,[e("td",Ee,n(s.__("Products")),1),e("td",Me,[e("ul",null,[(i(!0),l(g,null,k(r.coupon.products,p=>(i(),l("li",{class:"rounded-full px-3 py-1 border",key:p.id},n(p.product.name),1))),128)),r.coupon.products.length===0?(i(),l("li",Ke,n(s.__("Not applicable")),1)):c("",!0)])])])])])])):c("",!0)])]),_:1},8,["label"]),_(y,{label:s.__("Active Coupons"),padding:"p-1",identifier:"active-coupons"},{default:f(()=>[r.order?(i(),l("ul",Ge,[(i(!0),l(g,null,k(r.order.coupons,(p,V)=>(i(),l("li",{key:V,class:"flex justify-between elevation-surface border items-center px-2 py-1"},[e("div",Ye,[e("h3",Je,[e("span",null,n(p.name),1),e("span",null,n(s.getDiscountValue(p)),1)])]),e("div",null,[_(x,{onClick:A=>s.removeCoupon(V)},null,8,["onClick"])])]))),128)),r.order.coupons.length===0?(i(),l("li",Xe,n(s.__("No coupons applies to the cart.")),1)):c("",!0)])):c("",!0)]),_:1},8,["label"])]),_:1},8,["active"])]),r.coupon?(i(),l("div",Ze,[e("button",{onClick:t[6]||(t[6]=p=>s.apply()),class:"w-1/2 px-3 py-2 bg-success-tertiary text-white font-bold"},n(s.__("Apply")),1),e("button",{onClick:t[7]||(t[7]=p=>s.cancel()),class:"w-1/2 px-3 py-2 bg-error-tertiary text-white font-bold"},n(s.__("Cancel")),1)])):c("",!0)])}const es=O(xe,[["render",$e]]),ss={name:"ns-pos-customers",props:["popup"],data(){return{activeTab:"create-customers",customer:null,subscription:null,orders:[],options:{},optionsSubscriber:null,selectedTab:"orders",isLoadingCoupons:!1,isLoadingRewards:!1,isLoadingHistory:!1,isLoadingOrders:!1,coupons:[],userCan:o=>POS.userCan(o),rewardsResponse:[],order:null,walletHistories:[]}},components:{nsPaginate:M},unmounted(){this.subscription.unsubscribe(),this.optionsSubscriber.unsubscribe()},mounted(){this.closeWithOverlayClicked(),this.optionsSubscriber=POS.options.subscribe(o=>{this.options=o}),this.subscription=POS.order.subscribe(o=>{this.order=o,this.popup.params.customer!==void 0?(this.activeTab="account-payment",this.customer=this.popup.params.customer,this.loadCustomerOrders()):o.customer!==void 0&&(this.activeTab="account-payment",this.customer=o.customer,this.loadCustomerOrders())}),this.popupCloser()},methods:{__:h,nsCurrency:R,reload(){this.loadCustomerOrders()},popupResolver:j,popupCloser:T,getWalletHistoryLabel(o){switch(o){case"add":return h("Crediting");case"deduct":return h("Removing");case"refund":return h("Refunding");case"payment":return h("Payment");default:return h("Unknow")}},getType(o){switch(o){case"percentage_discount":return h("Percentage Discount");case"flat_discount":return h("Flat Discount")}},closeWithOverlayClicked:T,async openOrderOptions(o){try{const t=await new Promise((a,b)=>{S.show(G,{order:o,resolve:a,reject:b})});this.reload()}catch{v.error(h("An error occurred while opening the order options")).subscribe()}},doChangeTab(o){this.selectedTab=o,o==="coupons"&&this.loadCoupons(),o==="rewards"&&this.loadRewards(),o==="wallet-history"&&this.loadAccounHistory(),o==="orders"&&this.loadCustomerOrders()},loadAccounHistory(){this.isLoadingHistory=!0,P.get(`/api/customers/${this.customer.id}/account-history`).subscribe({next:o=>{this.walletHistories=o.data,this.isLoadingHistory=!1},error:o=>{this.isLoadingHistory=!1}})},loadCoupons(){this.isLoadingCoupons=!0,P.get(`/api/customers/${this.customer.id}/coupons`).subscribe({next:o=>{this.coupons=o,this.isLoadingCoupons=!1},error:o=>{this.isLoadingCoupons=!1}})},loadRewards(o=`/api/customers/${this.customer.id}/rewards`){this.isLoadingRewards=!0,P.get(o).subscribe({next:t=>{this.rewardsResponse=t,this.isLoadingRewards=!1},error:t=>{this.isLoadingRewards=!1}})},prefillForm(o){this.popup.params.name!==void 0&&(o.main.value=this.popup.params.name)},openCustomerSelection(){this.popup.close(o=>{S.show(U)})},loadCustomerOrders(){this.isLoadingOrders=!0,P.get(`/api/customers/${this.customer.id}/orders`).subscribe({next:o=>{this.orders=o,this.isLoadingOrders=!1},error:o=>{this.isLoadingOrders=!1}})},newTransaction(o){new Promise((a,b)=>{S.show(ye,{customer:o,resolve:a,reject:b})}).then(a=>{POS.loadCustomer(o.id).subscribe(b=>{POS.selectCustomer(b)})})},applyCoupon(o){this.order.customer===void 0?S.show(H,{title:h("Use Customer ?"),message:h("No customer is selected. Would you like to proceed with this customer ?"),onAction:t=>{t&&POS.selectCustomer(this.customer).then(a=>{this.proceedApplyingCoupon(o)})}}):this.order.customer.id===this.customer.id?this.proceedApplyingCoupon(o):this.order.customer.id!==this.customer.id&&S.show(H,{title:h("Change Customer ?"),message:h("Would you like to assign this customer to the ongoing order ?"),onAction:t=>{t&&POS.selectCustomer(this.customer).then(a=>{this.proceedApplyingCoupon(o)})}})},proceedApplyingCoupon(o){new Promise((t,a)=>{S.show(es,{apply_coupon:o.code,resolve:t,reject:a})}).then(t=>{this.popupResolver(!1)}).catch(t=>{})},handleSavedCustomer(o){v.success(o.message).subscribe(),POS.selectCustomer(o.data.entry),this.popup.close()}}},ts={id:"ns-pos-customers",class:"shadow-lg rounded w-95vw h-95vh lg:w-3/5-screen flex flex-col overflow-hidden"},os={class:"ns-header p-2 flex justify-between items-center border-b"},rs={class:"font-semibold"},is={class:"ns-body flex-auto flex p-2 overflow-y-auto"},ls={key:1,class:"h-full flex-col w-full flex items-center justify-center text-primary"},cs={class:"font-medium text-2xl"},us={key:0,class:"flex-auto w-full flex items-center justify-center flex-col p-4"},as={class:"font-medium text-2xl"},ds={class:"my-2"},ps={key:1,class:"flex flex-col flex-auto"},_s={class:"flex-auto p-2 flex flex-col"},hs={class:"flex flex-wrap"},fs={class:"px-4 mb-4 w-full"},ms={class:"font-semibold"},bs={class:"flex flex-wrap ns-tab-cards -mx-2 w-full"},ys={class:"px-2 mb-4 w-full md:w-1/4 flex"},xs={class:"rounded-lg shadow w-full bg-transparent bg-gradient-to-br from-success-secondary to-green-700 p-2 flex flex-col text-white"},vs={class:"font-medium text-lg"},gs={class:"w-full flex justify-end"},ws={class:"font-bold"},Cs={class:"px-2 mb-4 w-full md:w-1/4 flex"},ks={class:"rounded-lg shadow w-full bg-transparent bg-gradient-to-br from-error-secondary to-red-700 p-2 text-white"},Ss={class:"font-medium text-lg"},Ps={class:"w-full flex justify-end"},Ts={class:"font-bold"},Os={class:"px-2 mb-4 w-full md:w-1/4 flex"},Vs={class:"rounded-lg shadow w-full bg-transparent bg-gradient-to-br from-blue-500 to-blue-700 p-2 text-white"},js={class:"font-medium text-lg"},Ls={class:"w-full flex justify-end"},Ns={class:"font-bold"},As={class:"px-2 mb-4 w-full md:w-1/4 flex"},qs={class:"rounded-lg shadow w-full bg-transparent bg-gradient-to-br from-teal-500 to-teal-700 p-2 text-white"},Rs={class:"font-medium text-lg"},Hs={class:"w-full flex justify-end"},Fs={class:"font-bold"},Qs={class:"flex flex-auto flex-col overflow-hidden"},Ds={key:0,class:"flex-auto h-full justify-center flex items-center"},Us={class:"py-2 w-full"},Ws={class:"font-semibold text-primary"},zs={class:"flex-auto flex-col flex overflow-hidden"},Is={class:"flex-auto overflow-y-auto"},Bs={class:"table ns-table w-full"},Es={class:"text-primary"},Ms={colspan:"3",width:"150",class:"p-2 border font-semibold"},Ks={width:"50",class:"p-2 border font-semibold"},Gs={class:"text-primary"},Ys={key:0},Js={class:"border p-2 text-center",colspan:"4"},Xs={colspan:"3",class:"border p-2 text-center"},Zs={class:"flex flex-col items-start"},$s={class:"font-bold"},et={class:"md:-mx-2 w-full flex flex-col md:flex-row"},st={class:"md:px-2 flex items-start w-full md:w-1/4"},tt={class:"md:px-2 flex items-start w-full md:w-1/4"},ot={class:"md:px-2 flex items-start w-full md:w-1/4"},nt={class:"border p-2 text-center"},rt=["onClick"],it={class:"ml-1"},lt={key:0,class:"flex-auto h-full justify-center flex items-center"},ct={class:"py-2 w-full"},ut={class:"font-semibold text-primary"},at={class:"flex-auto flex-col flex overflow-hidden"},dt={class:"flex-auto overflow-y-auto"},pt={class:"table ns-table w-full"},_t={class:"text-primary"},ht={colspan:"3",width:"150",class:"p-2 border font-semibold"},ft={class:"text-primary"},mt={key:0},bt={class:"border p-2 text-center",colspan:"3"},yt={colspan:"3",class:"border p-2 text-center"},xt={class:"flex flex-col items-start"},vt={class:"font-bold"},gt={class:"md:-mx-2 w-full flex flex-col md:flex-row"},wt={class:"md:px-2 flex items-start w-full md:w-1/3"},Ct={class:"md:px-2 flex items-start w-full md:w-1/3"},kt={key:0,class:"flex-auto h-full justify-center flex items-center"},St={class:"py-2 w-full"},Pt={class:"font-semibold text-primary"},Tt={class:"flex-auto flex-col flex overflow-hidden"},Ot={class:"flex-auto overflow-y-auto"},Vt={class:"table ns-table w-full"},jt={class:"text-primary"},Lt={width:"150",class:"p-2 border font-semibold"},Nt={class:"p-2 border font-semibold"},At={class:"text-primary text-sm"},qt={key:0},Rt={class:"border p-2 text-center",colspan:"4"},Ht={width:"300",class:"border p-2"},Ft={class:""},Qt={class:"-mx-2 flex"},Dt={class:"text-xs text-primary px-2"},Ut={class:"text-xs text-primary px-2"},Wt={class:"border p-2 text-center"},zt={key:0},It={key:1},Bt={class:"border p-2 text-right"},Et={key:0,class:"flex-auto h-full justify-center flex items-center"},Mt={class:"py-2 w-full"},Kt={class:"font-semibold text-primary"},Gt={class:"flex-auto flex-col flex overflow-hidden"},Yt={class:"flex-auto overflow-y-auto"},Jt={class:"table ns-table w-full"},Xt={class:"text-primary"},Zt={width:"150",class:"p-2 border font-semibold"},$t={class:"p-2 border font-semibold"},eo={class:"p-2 border font-semibold"},so={key:0,class:"text-primary text-sm"},to={key:0},oo={class:"border p-2 text-center",colspan:"4"},no={width:"300",class:"border p-2"},ro={class:"text-center"},io={width:"300",class:"border p-2"},lo={class:"text-center"},co={width:"300",class:"border p-2"},uo={class:"text-center"},ao={class:"py-1 flex justify-end"},po={class:"p-2 border-t border-box-edge flex justify-between"};function _o(o,t,a,b,r,s){const x=m("ns-close-button"),u=m("ns-crud-form"),y=m("ns-tabs-item"),C=m("ns-button"),p=m("ns-spinner"),V=m("ns-paginate"),A=m("ns-tabs");return i(),l("div",ts,[e("div",os,[e("h3",rs,n(s.__("Customers")),1),e("div",null,[_(x,{onClick:t[0]||(t[0]=d=>a.popup.close())})])]),e("div",is,[_(A,{active:r.activeTab,onActive:t[7]||(t[7]=d=>r.activeTab=d)},{default:f(()=>[_(y,{identifier:"create-customers",label:s.__("New Customer")},{default:f(()=>[r.userCan("nexopos.create.customers")?(i(),N(u,{key:0,onUpdated:t[1]||(t[1]=d=>s.prefillForm(d)),onSave:t[2]||(t[2]=d=>s.handleSavedCustomer(d)),"submit-url":"/api/crud/ns.customers",src:"/api/crud/ns.customers/form-config"},{title:f(()=>[w(n(s.__("Customer Name")),1)]),save:f(()=>[w(n(s.__("Save Customer")),1)]),_:1})):c("",!0),r.userCan("nexopos.create.customers")?c("",!0):(i(),l("div",ls,[t[8]||(t[8]=e("i",{class:"lar la-hand-paper ns-icon text-6xl"},null,-1)),e("h3",cs,n(s.__("Not Authorized")),1),e("p",null,n(s.__("Creating customers has been explicitly disabled from the settings.")),1)]))]),_:1},8,["label"]),_(y,{identifier:"account-payment",label:s.__("Customer Account"),class:"flex",padding:"p-0 flex"},{default:f(()=>[r.customer===null?(i(),l("div",us,[t[9]||(t[9]=e("i",{class:"lar la-frown text-6xl"},null,-1)),e("h3",as,n(s.__("No Customer Selected")),1),e("p",null,n(s.__("In order to see a customer account, you need to select one customer.")),1),e("div",ds,[_(C,{onClick:t[3]||(t[3]=d=>s.openCustomerSelection()),type:"info"},{default:f(()=>[w(n(s.__("Select Customer")),1)]),_:1})])])):c("",!0),r.customer?(i(),l("div",ps,[e("div",_s,[e("div",hs,[e("div",fs,[e("h2",ms,n(s.__("Summary For"))+" : "+n(r.customer.first_name),1)]),e("div",bs,[e("div",ys,[e("div",xs,[e("h3",vs,n(s.__("Purchases")),1),e("div",gs,[e("h2",ws,n(s.nsCurrency(r.customer.purchases_amount)),1)])])]),e("div",Cs,[e("div",ks,[e("h3",Ss,n(s.__("Owed")),1),e("div",Ps,[e("h2",Ts,n(s.nsCurrency(r.customer.owed_amount)),1)])])]),e("div",Os,[e("div",Vs,[e("h3",js,n(s.__("Wallet Amount")),1),e("div",Ls,[e("h2",Ns,n(s.nsCurrency(r.customer.account_amount)),1)])])]),e("div",As,[e("div",qs,[e("h3",Rs,n(s.__("Credit Limit")),1),e("div",Hs,[e("h2",Fs,n(s.nsCurrency(r.customer.credit_limit_amount)),1)])])])])]),e("div",Qs,[_(A,{active:r.selectedTab,onChangeTab:t[5]||(t[5]=d=>s.doChangeTab(d))},{default:f(()=>[_(y,{identifier:"orders",label:s.__("Orders")},{default:f(()=>[r.isLoadingOrders?(i(),l("div",Ds,[_(p,{size:"36"})])):c("",!0),r.isLoadingOrders?c("",!0):(i(),l(g,{key:1},[e("div",Us,[e("h2",Ws,n(s.__("Last Purchases")),1)]),e("div",zs,[e("div",Is,[e("table",Bs,[e("thead",null,[e("tr",Es,[e("th",Ms,n(s.__("Order")),1),e("th",Ks,n(s.__("Options")),1)])]),e("tbody",Gs,[r.orders.length===0?(i(),l("tr",Ys,[e("td",Js,n(s.__("No orders...")),1)])):c("",!0),(i(!0),l(g,null,k(r.orders,d=>(i(),l("tr",{key:d.id},[e("td",Xs,[e("div",Zs,[e("h3",$s,n(s.__("Code"))+": "+n(d.code),1),e("div",et,[e("div",st,[e("small",null,n(s.__("Total"))+": "+n(s.nsCurrency(d.total)),1)]),e("div",tt,[e("small",null,n(s.__("Status"))+": "+n(d.human_status),1)]),e("div",ot,[e("small",null,n(s.__("Delivery"))+": "+n(d.human_delivery_status),1)])])])]),e("td",nt,[e("button",{onClick:W=>s.openOrderOptions(d),class:"rounded-full h-8 px-2 flex items-center justify-center border border-gray ns-inset-button success"},[t[10]||(t[10]=e("i",{class:"las la-wallet"},null,-1)),e("span",it,n(s.__("Options")),1)],8,rt)])]))),128))])])])])],64))]),_:1},8,["label"]),_(y,{identifier:"wallet-history",label:s.__("Wallet History")},{default:f(()=>[r.isLoadingHistory?(i(),l("div",lt,[_(p,{size:"36"})])):c("",!0),r.isLoadingHistory?c("",!0):(i(),l(g,{key:1},[e("div",ct,[e("h2",ut,n(s.__("Wallet History")),1)]),e("div",at,[e("div",dt,[e("table",pt,[e("thead",null,[e("tr",_t,[e("th",ht,n(s.__("Transaction")),1)])]),e("tbody",ft,[r.walletHistories.length===0?(i(),l("tr",mt,[e("td",bt,n(s.__("No History...")),1)])):c("",!0),(i(!0),l(g,null,k(r.walletHistories,d=>(i(),l("tr",{key:d.id},[e("td",yt,[e("div",xt,[e("h3",vt,n(s.__("Transaction"))+": "+n(s.getWalletHistoryLabel(d.operation)),1),e("div",gt,[e("div",wt,[e("small",null,n(s.__("Amount"))+": "+n(s.nsCurrency(o.amount)),1)]),e("div",Ct,[e("small",null,n(s.__("Date"))+": "+n(d.created_at),1)])])])])]))),128))])])])])],64))]),_:1},8,["label"]),_(y,{identifier:"coupons",label:s.__("Coupons")},{default:f(()=>[r.isLoadingCoupons?(i(),l("div",kt,[_(p,{size:"36"})])):c("",!0),r.isLoadingCoupons?c("",!0):(i(),l(g,{key:1},[e("div",St,[e("h2",Pt,n(s.__("Coupons")),1)]),e("div",Tt,[e("div",Ot,[e("table",Vt,[e("thead",null,[e("tr",jt,[e("th",Lt,n(s.__("Name")),1),e("th",Nt,n(s.__("Type")),1),t[11]||(t[11]=e("th",{class:"p-2 border font-semibold"},null,-1))])]),e("tbody",At,[r.coupons.length===0?(i(),l("tr",qt,[e("td",Rt,n(s.__("No coupons for the selected customer...")),1)])):c("",!0),(i(!0),l(g,null,k(r.coupons,d=>(i(),l("tr",{key:d.id},[e("td",Ht,[e("h3",null,n(d.name),1),e("div",Ft,[e("ul",Qt,[e("li",Dt,n(s.__("Usage :"))+" "+n(d.usage)+"/"+n(d.limit_usage),1),e("li",Ut,n(s.__("Code :"))+" "+n(d.code),1)])])]),e("td",Wt,[w(n(s.getType(d.coupon.type))+" ",1),d.coupon.type==="percentage_discount"?(i(),l("span",zt," ("+n(d.coupon.discount_value)+"%) ",1)):c("",!0),d.coupon.type==="flat_discount"?(i(),l("span",It," ("+n(s.nsCurrency(o.value))+") ",1)):c("",!0)]),e("td",Bt,[_(C,{onClick:W=>s.applyCoupon(d),type:"info"},{default:f(()=>[w(n(s.__("Use Coupon")),1)]),_:2},1032,["onClick"])])]))),128))])])])])],64))]),_:1},8,["label"]),_(y,{identifier:"rewards",label:s.__("Rewards")},{default:f(()=>[r.isLoadingRewards?(i(),l("div",Et,[_(p,{size:"36"})])):c("",!0),r.isLoadingRewards?c("",!0):(i(),l(g,{key:1},[e("div",Mt,[e("h2",Kt,n(s.__("Rewards")),1)]),e("div",Gt,[e("div",Yt,[e("table",Jt,[e("thead",null,[e("tr",Xt,[e("th",Zt,n(s.__("Name")),1),e("th",$t,n(s.__("Points")),1),e("th",eo,n(s.__("Target")),1)])]),r.rewardsResponse.data?(i(),l("tbody",so,[r.rewardsResponse.data.length===0?(i(),l("tr",to,[e("td",oo,n(s.__("No rewards available the selected customer...")),1)])):c("",!0),(i(!0),l(g,null,k(r.rewardsResponse.data,d=>(i(),l("tr",{key:d.id},[e("td",no,[e("h3",ro,n(d.reward_name),1)]),e("td",io,[e("h3",lo,n(d.points),1)]),e("td",co,[e("h3",uo,n(d.target),1)])]))),128))])):c("",!0)])])]),e("div",ao,[_(V,{pagination:r.rewardsResponse,onLoad:t[4]||(t[4]=d=>s.loadRewards(d))},null,8,["pagination"])])],64))]),_:1},8,["label"])]),_:1},8,["active"])])]),e("div",po,[t[12]||(t[12]=e("div",null,null,-1)),e("div",null,[_(C,{onClick:t[6]||(t[6]=d=>s.newTransaction(r.customer)),type:"info"},{default:f(()=>[w(n(s.__("Account Transaction")),1)]),_:1})])])])):c("",!0)]),_:1},8,["label"])]),_:1},8,["active"])])])}const q=O(ss,[["render",_o]]),wn=Object.freeze(Object.defineProperty({__proto__:null,default:q},Symbol.toStringTag,{value:"Module"})),ho={props:["popup"],data(){return{searchCustomerValue:"",orderSubscription:null,order:{},debounceSearch:null,customers:[],isLoading:!1}},computed:{customerSelected(){return!1}},watch:{searchCustomerValue(o){clearTimeout(this.debounceSearch),this.debounceSearch=setTimeout(()=>{this.searchCustomer(o)},500)}},mounted(){this.orderSubscription=POS.order.subscribe(o=>{this.order=o}),this.getRecentCustomers(),this.$refs.searchField.focus(),this.popupCloser()},unmounted(){this.orderSubscription.unsubscribe()},methods:{__:h,popupCloser:T,nsCurrency:R,resolveIfQueued:j,attemptToChoose(){if(this.customers.length===1)return this.selectCustomer(this.customers[0]);v.info(h("Too many results.")).subscribe()},openCustomerHistory(o,t){t.stopImmediatePropagation(),this.popup.close(),S.show(q,{customer:o,activeTab:"account-payment"})},selectCustomer(o){this.customers.forEach(t=>t.selected=!1),o.selected=!0,this.isLoading=!0,POS.selectCustomer(o).then(t=>{this.isLoading=!1,this.resolveIfQueued(o)}).catch(t=>{this.isLoading=!1})},searchCustomer(o){P.post("/api/customers/search",{search:o}).subscribe(t=>{t.forEach(a=>a.selected=!1),this.customers=t})},createCustomerWithMatch(o){this.resolveIfQueued(!1),S.show(q,{name:o})},getRecentCustomers(){this.isLoading=!0,P.get("/api/customers/recently-active").subscribe({next:o=>{this.isLoading=!1,o.forEach(t=>t.selected=!1),this.customers=o},error:o=>{this.isLoading=!1}})}}},fo={id:"ns-pos-customer-select-popup",class:"ns-box shadow-xl w-4/5-screen md:w-2/5-screen xl:w-108"},mo={id:"header",class:"border-b ns-box-header text-center font-semibold text-2xl py-2"},bo={class:"relative"},yo={class:"p-2 border-b ns-box-body items-center flex justify-between"},xo={class:"flex items-center justify-between"},vo={class:"p-2 border-b ns-box-body flex justify-between text-primary"},go={class:"input-group flex-auto border-2 rounded"},wo={class:"h-3/5-screen xl:h-2/5-screen overflow-y-auto ns-scrollbar"},Co={class:"ns-vertical-menu"},ko={key:0,class:"p-2 text-center text-primary"},So={class:"border-b border-dashed border-info-primary"},Po=["onClick"],To={class:"flex flex-col"},Oo={key:0,class:"text-xs text-secondary"},Vo={key:1,class:"text-xs text-secondary"},jo={class:"flex items-center"},Lo={key:0,class:"text-error-primary"},No={key:1},Ao={class:"purchase-amount"},qo=["onClick"],Ro={key:0,class:"z-10 top-0 absolute w-full h-full flex items-center justify-center"};function Ho(o,t,a,b,r,s){const x=m("ns-spinner");return i(),l("div",fo,[e("div",mo,[e("h2",null,n(s.__("Select Customer")),1)]),e("div",bo,[e("div",yo,[e("span",null,n(s.__("Selected"))+" : ",1),e("div",xo,[e("span",null,n(r.order.customer?`${r.order.customer.first_name} ${r.order.customer.last_name}`:"N/A"),1),r.order.customer?(i(),l("button",{key:0,onClick:t[0]||(t[0]=u=>s.openCustomerHistory(r.order.customer,u)),class:"mx-2 rounded-full h-8 w-8 flex items-center justify-center border ns-inset-button hover:border-transparent"},t[4]||(t[4]=[e("i",{class:"las la-eye"},null,-1)]))):c("",!0)])]),e("div",vo,[e("div",go,[D(e("input",{ref:"searchField",onKeydown:t[1]||(t[1]=Q(u=>s.attemptToChoose(),["enter"])),"onUpdate:modelValue":t[2]||(t[2]=u=>r.searchCustomerValue=u),placeholder:"Search Customer",type:"text",class:"outline-none w-full p-2"},null,544),[[F,r.searchCustomerValue]])])]),e("div",wo,[e("ul",Co,[r.customers&&r.customers.length===0?(i(),l("li",ko,n(s.__("No customer match your query...")),1)):c("",!0),r.customers&&r.customers.length===0?(i(),l("li",{key:1,onClick:t[3]||(t[3]=u=>s.createCustomerWithMatch(r.searchCustomerValue)),class:"p-2 cursor-pointer text-center text-primary"},[e("span",So,n(s.__("Create a customer")),1)])):c("",!0),(i(!0),l(g,null,k(r.customers,u=>(i(),l("li",{onClick:y=>s.selectCustomer(u),key:u.id,class:"cursor-pointer p-2 border-b text-primary flex justify-between items-center"},[e("div",To,[e("span",null,n(u.first_name)+" "+n(u.last_name),1),u.group?(i(),l("small",Oo,n(u.group.name),1)):(i(),l("small",Vo,n(s.__("No Group Assigned")),1))]),e("p",jo,[u.owe_amount>0?(i(),l("span",Lo,"-"+n(s.nsCurrency(u.owe_amount)),1)):c("",!0),u.owe_amount>0?(i(),l("span",No,"/")):c("",!0),e("span",Ao,n(s.nsCurrency(u.purchases_amount)),1),e("button",{onClick:y=>s.openCustomerHistory(u,y),class:"mx-2 rounded-full h-8 w-8 flex items-center justify-center border ns-inset-button info"},t[5]||(t[5]=[e("i",{class:"las la-eye"},null,-1)]),8,qo)])],8,Po))),128))])]),r.isLoading?(i(),l("div",Ro,[_(x,{size:"24",border:"8"})])):c("",!0)])])}const U=O(ho,[["render",Ho]]),Fo={name:"ns-pos-discount-popup",props:["popup"],data(){return{finalValue:1,virtualStock:null,popupSubscription:null,mode:"",type:"",allSelected:!0,isLoading:!1,keys:[...[7,8,9].map(o=>({identifier:o,value:o})),...[4,5,6].map(o=>({identifier:o,value:o})),...[1,2,3].map(o=>({identifier:o,value:o})),{identifier:"backspace",icon:"la-backspace"},{identifier:0,value:0},{identifier:"next",icon:"la-share"}]}},mounted(){this.mode=this.popup.params.reference.discount_type||"percentage",this.type=this.popup.params.type,this.mode==="percentage"?this.finalValue=this.popup.params.reference.discount_percentage||1:this.finalValue=this.popup.params.reference.discount||1,this.popupCloser()},methods:{__:h,nsCurrency:R,popupResolver:j,popupCloser:T,setPercentageType(o){this.mode=o},closePopup(){this.popup.close()},inputValue(o){o.identifier==="next"?(this.popup.params.onSubmit({discount_type:this.mode,discount_percentage:this.mode==="percentage"?this.finalValue:void 0,discount:this.mode==="flat"?this.finalValue:void 0}),this.popup.close()):o.identifier==="backspace"?this.allSelected?(this.finalValue=0,this.allSelected=!1):(this.finalValue=this.finalValue.toString(),this.finalValue=this.finalValue.substr(0,this.finalValue.length-1)||0):this.allSelected?(this.finalValue=o.value,this.finalValue=parseFloat(this.finalValue),this.allSelected=!1):(this.finalValue+=""+o.value,this.finalValue=parseFloat(this.finalValue),this.mode==="percentage"&&(this.finalValue=this.finalValue>100?100:this.finalValue))}}},Qo={id:"discount-popup",class:"ns-box shadow min-h-2/5-screen w-6/7-screen md:w-3/5-screen lg:w-3/5-screen xl:w-2/5-screen relative"},Do={class:"flex-shrink-0 flex justify-between items-center p-2 border-b ns-box-header"},Uo={key:0,class:"text-xl font-bold text-primary text-center"},Wo={key:1,class:"text-xl font-bold text-primary text-center"},zo={id:"screen",class:"h-16 ns-box-body text-white flex items-center justify-center"},Io={class:"font-bold text-3xl"},Bo={key:0},Eo={key:1},Mo={id:"switch-mode",class:"flex"},Ko={id:"numpad",class:"grid grid-flow-row grid-cols-3 grid-rows-3"},Go=["onClick"],Yo={key:0};function Jo(o,t,a,b,r,s){const x=m("ns-close-button");return i(),l("div",Qo,[e("div",Do,[e("div",null,[r.type==="product"?(i(),l("h1",Uo,n(s.__("Product Discount")),1)):c("",!0),r.type==="cart"?(i(),l("h1",Wo,n(s.__("Cart Discount")),1)):c("",!0)]),e("div",null,[_(x,{onClick:t[0]||(t[0]=u=>s.closePopup())})])]),e("div",zo,[e("h1",Io,[r.mode==="flat"?(i(),l("span",Bo,n(s.nsCurrency(r.finalValue)),1)):c("",!0),r.mode==="percentage"?(i(),l("span",Eo,n(r.finalValue)+"%",1)):c("",!0)])]),e("div",Mo,[e("button",{onClick:t[1]||(t[1]=u=>s.setPercentageType("flat")),class:L([r.mode==="flat"?"bg-tab-active":"bg-tab-inactive text-tertiary","outline-none w-1/2 py-2 flex items-center justify-center"])},n(s.__("Flat")),3),t[3]||(t[3]=e("hr",{class:"border-r border-box-edge"},null,-1)),e("button",{onClick:t[2]||(t[2]=u=>s.setPercentageType("percentage")),class:L([r.mode==="percentage"?"bg-tab-active":"bg-tab-inactive text-tertiary","outline-none w-1/2 py-2 flex items-center justify-center"])},n(s.__("Percentage")),3)]),e("div",Ko,[(i(!0),l(g,null,k(r.keys,(u,y)=>(i(),l("div",{onClick:C=>s.inputValue(u),key:y,class:"text-primary ns-numpad-key info text-xl font-bold border h-24 flex items-center justify-center cursor-pointer"},[u.value!==void 0?(i(),l("span",Yo,n(u.value),1)):c("",!0),u.icon?(i(),l("i",{key:1,class:L(["las",u.icon])},null,2)):c("",!0)],8,Go))),128))])])}const Cn=O(Fo,[["render",Jo]]),Xo={data(){return{types:[],settingsSubscription:null,urls:{}}},props:["popup"],mounted(){this.settingsSubscription=POS.settings.subscribe(o=>{this.urls=o.urls}),this.types=POS.types.getValue(),Object.values(this.types).length===1&&this.select(Object.keys(this.types)[0]),this.popupCloser()},methods:{__:h,popupCloser:T,popupResolver:j,resolveIfQueued:j,async select(o){Object.values(this.types).forEach(a=>a.selected=!1),this.types[o].selected=!0;const t=this.types[o];try{const a=await POS.triggerOrderTypeSelection(t);POS.types.next(this.types),this.resolveIfQueued(t)}catch(a){throw a}}}},Zo={id:"ns-order-type",class:"h-full w-4/5-screen md:w-2/5-screen lg:w-2/5-screen xl:w-2/6-screen shadow-lg"},$o={id:"header",class:"h-16 flex justify-center items-center"},en={class:"font-bold"},sn={key:0,class:"ns-box-body grid grid-flow-row grid-cols-1 grid-rows-1"},tn={class:"h-full w-full flex items-center justify-center flex-col"},on={class:"p-4 md:w-2/3"},nn={class:"text-center"},rn={class:"flex justify-center mt-4 mb-2 -mx-2"},ln={class:"px-2"},cn={class:"px-2"},un={key:1,class:"ns-box-body grid grid-flow-row grid-cols-2 grid-rows-2"},an=["onClick"],dn=["src"],pn={class:"font-semibold text-xl my-2"};function _n(o,t,a,b,r,s){const x=m("ns-link");return i(),l("div",Zo,[e("div",$o,[e("h3",en,n(s.__("Define The Order Type")),1)]),Object.values(r.types).length===0?(i(),l("div",sn,[e("div",tn,[t[0]||(t[0]=e("i",{class:"las la-frown text-7xl text-error-tertiary"},null,-1)),e("div",on,[e("p",nn,n(s.__("No payment type has been selected on the settings. Please check your POS features and choose the supported order type")),1),e("div",rn,[e("div",ln,[_(x,{target:"_blank",type:"info",href:"https://my.nexopos.com/en/documentation/components/order-types"},{default:f(()=>[w(n(s.__("Read More")),1)]),_:1})]),e("div",cn,[_(x,{target:"_blank",type:"info",href:r.urls.order_type_url},{default:f(()=>[w(n(s.__("Configure")),1)]),_:1},8,["href"])])])])])])):c("",!0),Object.values(r.types).length>0?(i(),l("div",un,[(i(!0),l(g,null,k(r.types,u=>(i(),l("div",{onClick:y=>s.select(u.identifier),key:u.identifier,class:L([u.selected?"active":"","ns-numpad-key info h-56 flex items-center justify-center flex-col cursor-pointer border"])},[e("img",{src:u.icon,alt:"",class:"w-32 h-32"},null,8,dn),e("h4",pn,n(u.label),1)],10,an))),128))])):c("",!0)])}const kn=O(Xo,[["render",_n]]);export{gn as P,Cn as a,kn as b,es as c,wn as d,U as n};
